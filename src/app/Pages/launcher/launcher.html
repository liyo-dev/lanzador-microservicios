<app-spinner *ngIf="loading"></app-spinner>

<div class="launcher-container">
  <div class="top-bar">
    <button class="go-config-btn" (click)="goToConfig()">⚙️ Configuración</button>
  </div>

  <div class="micro-selection">
    <div *ngFor="let micro of angularMicros" class="micro-card">
      <label class="checkbox-wrapper">
        <input type="checkbox" [(ngModel)]="micro.selected" />
        <span class="checkmark"></span>
        {{ micro.label }}
      </label>
      <div class="status" [class.running]="micro.status === 'running'" [class.stopped]="micro.status === 'stopped'">
        {{ micro.status }}
      </div>
    </div>
  </div>

  <div class="button-bar">
    <button class="stop-btn" (click)="stopSelected()">🛑 Parar</button>
    <button class="start-btn" (click)="startSelected()">🚀 Arrancar</button>
  </div>

  <div *ngIf="showSuccessMessage && !loading" class="success-message">
    ✅ Todos los micros arrancaron correctamente.
  </div>

  <button class="console-toggle" (click)="toggleLogs()">
    {{ showLogs ? '🛑 Ocultar consola' : '🖥️ Ver consola' }}
  </button>

  <div *ngIf="showLogs" #logBox class="log-box">
    <div *ngFor="let log of logs" class="log-line">{{ log }}</div>
  </div>

</div>