<div class="users-container">
  <header class="page-header">
    <div class="header-content">
      <h1>
        <span class="icon">ğŸ‘¥</span>
        GestiÃ³n de Usuarios Portal
      </h1>
      <p class="subtitle">Administra los usuarios para acceso automÃ¡tico al portal</p>
    </div>
    
    <div class="header-actions">
      <button class="btn btn-primary" (click)="showAddUserForm()">
        <span class="icon">â•</span>
        AÃ±adir Usuario
      </button>
    </div>
  </header>

  <!-- Lista de usuarios -->
  <div class="users-grid" *ngIf="users.length > 0">
    <div 
      class="user-card" 
      *ngFor="let user of users" 
      [attr.data-user-id]="user.id"
    >
      <div class="user-info">
        <h3 class="user-name">{{ user.name }}</h3>
        <div class="user-details">
          <div class="detail-item">
            <span class="label">Empresa:</span>
            <span class="value">{{ user.companyID }}</span>
          </div>
          <div class="detail-item">
            <span class="label">Usuario:</span>
            <span class="value">{{ user.username }}</span>
          </div>
          <div class="detail-item" *ngIf="user.description">
            <span class="label">DescripciÃ³n:</span>
            <span class="value">{{ user.description }}</span>
          </div>
        </div>
      </div>
      
      <div class="user-actions">
        <button 
          class="btn btn-success btn-login" 
          (click)="loginWithUser(user)"
          title="Abrir portal con este usuario"
        >
          <span class="icon">ğŸš€</span>
          Acceder al Portal
        </button>
        
        <div class="action-buttons">
          <button 
            class="btn btn-outline btn-small" 
            (click)="editUser(user)"
            title="Editar usuario"
          >
            <span class="icon">âœï¸</span>
          </button>
          <button 
            class="btn btn-danger btn-small" 
            (click)="deleteUser(user.id)"
            title="Eliminar usuario"
          >
            <span class="icon">ğŸ—‘ï¸</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Estado vacÃ­o -->
  <div class="empty-state" *ngIf="users.length === 0">
    <div class="empty-icon">ğŸ‘¤</div>
    <h3>No hay usuarios configurados</h3>
    <p>AÃ±ade usuarios para acceder rÃ¡pidamente al portal</p>
    <button class="btn btn-primary" (click)="showAddUserForm()">
      <span class="icon">â•</span>
      AÃ±adir Primer Usuario
    </button>
  </div>

  <!-- Formulario de aÃ±adir/editar usuario -->
  <div class="form-overlay" *ngIf="showAddForm" (click)="cancelForm()">
    <div class="user-form" (click)="$event.stopPropagation()">
      <h2>
        <span class="icon">{{ editingUser ? 'âœï¸' : 'â•' }}</span>
        {{ editingUser ? 'Editar Usuario' : 'Nuevo Usuario' }}
      </h2>
      
      <div class="form-group">
        <label for="userName">Nombre del Usuario</label>
        <input 
          id="userName"
          type="text" 
          [(ngModel)]="newUser.name" 
          placeholder="Ej: Test Raul"
          class="form-control"
        >
      </div>
      
      <div class="form-group">
        <label for="companyID">Company ID</label>
        <input 
          id="companyID"
          type="text" 
          [(ngModel)]="newUser.companyID" 
          placeholder="Ej: TESTPORTAL"
          class="form-control"
        >
      </div>
      
      <div class="form-group">
        <label for="username">Usuario</label>
        <input 
          id="username"
          type="text" 
          [(ngModel)]="newUser.username" 
          placeholder="Ej: Testraul"
          class="form-control"
        >
      </div>
      
      <div class="form-group">
        <label for="password">ContraseÃ±a</label>
        <input 
          id="password"
          type="password" 
          [(ngModel)]="newUser.password" 
          placeholder="ContraseÃ±a del usuario"
          class="form-control"
        >
      </div>
      
      <div class="form-group">
        <label for="description">DescripciÃ³n (opcional)</label>
        <input 
          id="description"
          type="text" 
          [(ngModel)]="newUser.description" 
          placeholder="DescripciÃ³n del usuario"
          class="form-control"
        >
      </div>
      
      <div class="form-actions">
        <button class="btn btn-outline" (click)="cancelForm()">
          Cancelar
        </button>
        <button class="btn btn-primary" (click)="saveUser()">
          <span class="icon">ğŸ’¾</span>
          {{ editingUser ? 'Actualizar' : 'Guardar' }}
        </button>
      </div>
    </div>
  </div>

  <!-- NavegaciÃ³n -->
  <nav class="bottom-nav">
    <button class="nav-btn" (click)="goToHome()" title="Ir al inicio">
      <span class="icon">ğŸ </span>
      Inicio
    </button>
    <button class="nav-btn" (click)="goBack()" title="Volver al launcher">
      <span class="icon">ğŸš€</span>
      Launcher
    </button>
    <button class="nav-btn" (click)="goToConfig()" title="Ir a configuraciÃ³n">
      <span class="icon">âš™ï¸</span>
      ConfiguraciÃ³n
    </button>
  </nav>
</div>
